# 🔍 코드 리뷰 요청 템플릿 모음

> AI에게 효과적으로 코드 리뷰를 요청하는 템플릿

---

## 🎯 코드 리뷰의 목적

AI 코드 리뷰를 통해:
- ✅ 코드 품질 향상
- ✅ 잠재적 버그 발견
- ✅ 성능 최적화 포인트 파악
- ✅ Best Practice 학습
- ✅ 보안 취약점 발견

---

## 📋 템플릿 1: 일반 코드 리뷰

```
"다음 코드를 종합적으로 리뷰해줘.

[코드]
```java
[코드 붙여넣기]
```

[리뷰 요청 사항]
1. **기능성**: 요구사항을 제대로 구현했는지
2. **코드 품질**: 가독성, 유지보수성
3. **성능**: 최적화 가능한 부분
4. **보안**: 취약점 여부
5. **Best Practice**: 더 나은 방법 제안

[컨텍스트]
- 이 코드의 목적: [설명]
- 호출 빈도: [많음/보통/적음]
- 성능 요구사항: [있음/없음]

각 항목별로 점수(1-10)와 구체적인 개선 방안을 제시해줘."
```

---

## 📋 템플릿 2: 성능 최적화 리뷰

```
"다음 코드의 성능을 분석하고 최적화 방안을 제시해줘.

[코드]
```java
[코드 붙여넣기]
```

[성능 이슈]
- 현재 응답 시간: [예: 3초]
- 데이터량: [예: 게시글 10,000개]
- 목표 응답 시간: [예: 500ms 이하]

[분석 요청]
1. **병목 지점**: 어디가 느린지
2. **원인**: N+1 문제, 비효율적 쿼리 등
3. **해결 방안**: 구체적인 개선 코드
4. **예상 효과**: 개선 후 성능 예측

[고려사항]
- DB 인덱스 추가 가능
- 캐싱 전략 적용 가능 (Redis)
- 쿼리 튜닝 우선

코드와 함께 설명해줘."
```

---

## 📋 템플릿 3: 보안 리뷰

```
"다음 코드의 보안 취약점을 점검해줘.

[코드]
```java
[코드 붙여넣기]
```

[보안 체크리스트]
1. **SQL Injection**: 쿼리 파라미터 검증
2. **XSS**: 사용자 입력 sanitize
3. **인증/인가**: 권한 체크 누락
4. **데이터 노출**: 민감 정보 로깅/응답
5. **암호화**: 비밀번호, 개인정보 처리

[위험도 평가]
각 취약점에 대해:
- 위험도: [높음/중간/낮음]
- 공격 시나리오
- 해결 방법 (코드 포함)

OWASP Top 10을 기준으로 점검해줘."
```

---

## 📋 템플릿 4: 리팩토링 제안

```
"다음 코드를 리팩토링해줘.

[현재 코드]
```java
[코드 붙여넣기]
```

[문제점]
- [코드가 너무 길어 이해하기 어렵다]
- [중복 로직이 많다]
- [테스트하기 어려운 구조다]

[리팩토링 목표]
1. **가독성**: 메서드 분리, 명확한 네이밍
2. **SOLID 원칙**: 단일 책임, 의존성 역전 등
3. **테스트 용이성**: Mock 가능한 구조
4. **재사용성**: 공통 로직 추출

[요청]
- 리팩토링 전후 비교 (Before/After)
- 각 변경의 이유 설명
- 적용된 디자인 패턴 설명
- 추가 개선 가능한 점

코드를 단계별로 개선해줘."
```

---

## 📋 템플릿 5: 아키텍처 리뷰

```
"다음 프로젝트 구조를 리뷰해줘.

[현재 구조]
```
src/
├── controller/
│   ├── UserController.java
│   └── PostController.java
├── service/
│   ├── UserService.java
│   └── PostService.java
├── repository/
├── entity/
└── dto/
```

[주요 클래스]
```java
[핵심 클래스 2-3개 코드]
```

[리뷰 포인트]
1. **계층 분리**: Controller-Service-Repository 적절한지
2. **의존성 방향**: 올바른 방향인지
3. **DTO 사용**: Entity와 DTO 분리가 적절한지
4. **패키지 구조**: 더 나은 구조 제안

[프로젝트 규모]
- 예상 기능: [10개 내외]
- 팀 규모: [1-5명]
- 향후 확장 가능성: [있음/없음]

확장성과 유지보수성을 고려해서 개선 방안을 제시해줘."
```

---

## 📋 템플릿 6: 테스트 코드 리뷰

```
"다음 테스트 코드를 리뷰해줘.

[테스트 코드]
```java
[테스트 코드 붙여넣기]
```

[테스트 대상 코드]
```java
[실제 구현 코드]
```

[리뷰 요청]
1. **커버리지**: 모든 케이스를 테스트하는지
2. **테스트 품질**: Arrange-Act-Assert 패턴
3. **Mocking**: Mock 사용이 적절한지
4. **가독성**: 테스트 의도가 명확한지

[추가 필요한 테스트]
- 누락된 테스트 케이스 제안
- Edge case, Exception case
- 통합 테스트 필요 여부

개선된 테스트 코드를 제시해줘."
```

---

## 📋 템플릿 7: API 설계 리뷰

```
"다음 REST API 설계를 리뷰해줘.

[API 목록]
```
POST   /api/users           - 사용자 생성
GET    /api/users/:id       - 사용자 조회
PUT    /api/users/:id       - 사용자 수정
DELETE /api/users/:id       - 사용자 삭제

POST   /api/posts           - 게시글 작성
GET    /api/posts           - 게시글 목록
GET    /api/posts/:id       - 게시글 상세
```

[Controller 코드]
```java
[Controller 코드]
```

[리뷰 포인트]
1. **RESTful 원칙**: 명명규칙, HTTP 메서드 사용
2. **일관성**: 응답 형식, 에러 처리
3. **버전 관리**: API 버전 전략
4. **문서화**: Swagger/OpenAPI 필요성

[개선 요청]
- 더 RESTful하게 개선
- 응답 형식 표준화
- 에러 코드 체계 제안
- API 명세서 예시

Best Practice를 반영한 개선안을 제시해줘."
```

---

## 📋 템플릿 8: 데이터베이스 쿼리 리뷰

```
"다음 쿼리를 최적화해줘.

[현재 쿼리/코드]
```java
[JPA Repository 또는 SQL]
```

[문제 상황]
- 실행 시간: [예: 5초]
- 데이터량: [예: 100,000 rows]
- 실행 빈도: [높음/중간/낮음]

[리뷰 요청]
1. **쿼리 분석**: EXPLAIN 결과 해석
2. **문제점**: N+1, Full Scan 등
3. **최적화**: 인덱스, 쿼리 개선
4. **JPA 활용**: Fetch Join, DTO Projection

[제약사항]
- 인덱스 추가 가능: [예/아니오]
- 테이블 구조 변경 가능: [예/아니오]
- 캐싱 적용 가능: [예/아니오]

최적화된 쿼리와 예상 성능 향상을 제시해줘."
```

---

## 🎯 리뷰 결과 활용하기

### 1단계: 리뷰 받기
위의 템플릿을 사용해 AI에게 리뷰 요청

### 2단계: 이해하기
AI가 지적한 사항을 하나하나 이해하고 질문

```
"방금 지적한 N+1 문제에 대해 더 자세히 설명해줘.
- N+1 문제가 정확히 무엇인지
- 우리 코드에서 어떻게 발생하는지
- Fetch Join이 어떻게 해결하는지"
```

### 3단계: 적용하기
개선 사항을 코드에 반영

### 4단계: 재검토
개선한 코드를 다시 리뷰 요청

```
"이전에 리뷰받은 코드를 다음과 같이 개선했어.

[개선 전]
```java
[이전 코드]
```

[개선 후]
```java
[개선한 코드]
```

개선이 제대로 되었는지, 추가로 개선할 점은 없는지 확인해줘."
```

---

## 💡 효과적인 코드 리뷰 팁

### Tip 1: 컨텍스트 제공
```
"이 코드는 하루 10,000번 이상 호출되는 핵심 API야.
성능이 중요하니 그 관점에서 리뷰해줘."
```

### Tip 2: 구체적인 우려사항 명시
```
"이 코드에서 동시성 문제가 발생할 수 있을까?
여러 사용자가 동시에 같은 데이터를 수정할 때를 고려해줘."
```

### Tip 3: 학습 목적 강조
```
"단순히 수정 코드만이 아니라,
왜 그렇게 바꿔야 하는지, 원리를 자세히 설명해줘."
```

### Tip 4: 비교 요청
```
"방법 A와 방법 B 중 어느 것이 더 나을까?
각각의 장단점을 비교해서 설명해줘."
```

---

## 📊 코드 리뷰 체크리스트

리뷰를 요청할 때 다음 항목을 점검하세요:

### 기능성
- [ ] 요구사항을 정확히 구현했는가?
- [ ] Edge case를 처리하는가?
- [ ] 에러 처리가 적절한가?

### 코드 품질
- [ ] 가독성이 좋은가?
- [ ] 네이밍이 명확한가?
- [ ] 중복 코드는 없는가?
- [ ] 주석이 필요한 곳에 있는가?

### 성능
- [ ] 비효율적인 로직은 없는가?
- [ ] 데이터베이스 쿼리는 최적화되었는가?
- [ ] 메모리 누수 가능성은 없는가?

### 보안
- [ ] 입력값 검증을 하는가?
- [ ] SQL Injection 취약점은 없는가?
- [ ] 민감 정보를 안전하게 처리하는가?

### 아키텍처
- [ ] 계층이 적절히 분리되었는가?
- [ ] 의존성 방향이 올바른가?
- [ ] 확장 가능한 구조인가?

### 테스트
- [ ] 테스트 가능한 구조인가?
- [ ] 테스트 코드가 있는가?
- [ ] 테스트 커버리지는 충분한가?

---

## 📚 다음 단계

1. **실습**: 자신의 코드로 위 템플릿 활용해보기
2. **습관화**: 코드 작성 후 항상 리뷰 요청하기
3. **학습**: 반복되는 지적 사항을 패턴화하여 개선

---

**💡 핵심**: 코드 리뷰는 단순히 버그를 찾는 것이 아니라, 더 나은 코드를 작성하는 방법을 배우는 과정입니다!

