# í…ŒìŠ¤íŠ¸ ê°€ì´ë“œ

**í”„ë¡œì íŠ¸ëª…:** SimpleBlog
**ì‘ì„±ì¼:** 2025-10-17
**ì‘ì„±ì:** ê°œë°œíŒ€
**ë²„ì „:** 1.0

---

## ğŸ“Œ ì´ ë‹¨ê³„ì˜ ëª©ì 

### ì™œ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•˜ë‚˜ìš”?

**"ë§Œë“  ê¸°ëŠ¥ì´ ì œëŒ€ë¡œ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸í•˜ì!"**

í…ŒìŠ¤íŠ¸ëŠ” **í’ˆì§ˆ ë³´ì¦**ì˜ í•µì‹¬ì…ë‹ˆë‹¤. PMì€ "í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ 80%"ê°™ì€ ìš©ì–´ë¥¼ ì•Œì•„ì•¼ ê³ ê°ì—ê²Œ ì„¤ëª…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

#### ì˜ˆì‹œë¡œ ì´í•´í•˜ê¸°
```
í…ŒìŠ¤íŠ¸ ì—†ì´ ê°œë°œ:
ê°œë°œì: "ë‹¤ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤!"
ë°°í¬ â†’ ê³ ê°ì´ ì‚¬ìš© â†’ ë²„ê·¸ ë°œê²¬ â†’ ê¸´ê¸‰ ìˆ˜ì • â†’ ì•¼ê·¼

í…ŒìŠ¤íŠ¸ ì‘ì„± í›„ ê°œë°œ:
ê°œë°œì: "í…ŒìŠ¤íŠ¸ 200ê°œ í†µê³¼í–ˆìŠµë‹ˆë‹¤!"
ë°°í¬ â†’ ê³ ê°ì´ ì‚¬ìš© â†’ ë¬¸ì œ ì—†ìŒ â†’ ì •ì‹œ í‡´ê·¼
```

### PMì´ ê¼­ ì•Œì•„ì•¼ í•  ê²ƒ

#### 1. í…ŒìŠ¤íŠ¸ ì¢…ë¥˜ (3ê°€ì§€ë§Œ ê¸°ì–µ!)

```
1. ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ (Unit Test):
   - ë©”ì„œë“œ í•˜ë‚˜ì”© í…ŒìŠ¤íŠ¸
   - ê°€ì¥ ë¹ ë¦„ (1ì´ˆ ë‚´)
   - ê°œë°œìê°€ ê°€ì¥ ë§ì´ ì‘ì„±

2. í†µí•© í…ŒìŠ¤íŠ¸ (Integration Test):
   - ì—¬ëŸ¬ ê³„ì¸µ í•¨ê»˜ í…ŒìŠ¤íŠ¸
   - ì¤‘ê°„ ì†ë„ (5~10ì´ˆ)
   - ì‹¤ì œ DB ì‚¬ìš©

3. E2E í…ŒìŠ¤íŠ¸ (End-to-End):
   - ì‚¬ìš©ì ì‹œë‚˜ë¦¬ì˜¤ ì „ì²´ í…ŒìŠ¤íŠ¸
   - ëŠë¦¼ (30ì´ˆ~1ë¶„)
   - Selenium, Cypress ë“± ì‚¬ìš©
```

---

#### 2. í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€

```
í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ = í…ŒìŠ¤íŠ¸ëœ ì½”ë“œ ë¼ì¸ ìˆ˜ / ì „ì²´ ì½”ë“œ ë¼ì¸ ìˆ˜

ì¼ë°˜ì ì¸ ëª©í‘œ:
- 70% ì´ìƒ: ì¤€ìˆ˜
- 80% ì´ìƒ: ìš°ìˆ˜
- 90% ì´ìƒ: ë§¤ìš° ìš°ìˆ˜ (í•˜ì§€ë§Œ ê³¼ë„í•  ìˆ˜ ìˆìŒ)

SimpleBlog ëª©í‘œ: 80%
```

**ì œì•ˆì„œì— ì“°ëŠ” í‘œí˜„:**
> "SimpleBlogëŠ” **í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ 80%** ì´ìƒì„ ë³´ì¥í•©ë‹ˆë‹¤.
> JUnit 5 ê¸°ë°˜ **ìë™í™” í…ŒìŠ¤íŠ¸ 200ê°œ** ì´ìƒ ì‘ì„±í•˜ì—¬,
> **íšŒê·€ ë²„ê·¸ë¥¼ ì‚¬ì „ì— ë°©ì§€**í•©ë‹ˆë‹¤."

---

#### 3. ì‹¤ë¬´ Tip

â­ **í…ŒìŠ¤íŠ¸ëŠ” ê°œë°œê³¼ ë™ì‹œì—**
```
âŒ ë‚˜ìœ ì˜ˆ: ê°œë°œ ë‹¤ í•˜ê³  ë‚˜ì¤‘ì— í…ŒìŠ¤íŠ¸ ì‘ì„±
â†’ ê·€ì°®ì•„ì„œ ì•ˆ ì“°ê²Œ ë¨

âœ… ì¢‹ì€ ì˜ˆ: ê¸°ëŠ¥ í•˜ë‚˜ ë§Œë“¤ ë•Œë§ˆë‹¤ í…ŒìŠ¤íŠ¸ ì‘ì„±
â†’ TDD (Test Driven Development)
```

â­ **given-when-then íŒ¨í„´**
```java
@Test
void ê²Œì‹œê¸€_ìƒì„±_ì„±ê³µ() {
    // given: ì¤€ë¹„ (í…ŒìŠ¤íŠ¸ ë°ì´í„° ì„¤ì •)
    PostCreateRequest request = new PostCreateRequest(...);

    // when: ì‹¤í–‰ (í…ŒìŠ¤íŠ¸í•  ê¸°ëŠ¥ ì‹¤í–‰)
    PostResponse response = postService.createPost(request);

    // then: ê²€ì¦ (ê²°ê³¼ í™•ì¸)
    assertThat(response.getTitle()).isEqualTo("í…ŒìŠ¤íŠ¸ ì œëª©");
}
```

â­ **í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨ëŠ” ì •ìƒ!**
```
í…ŒìŠ¤íŠ¸ê°€ ì‹¤íŒ¨í•œë‹¤ = ë²„ê·¸ë¥¼ ì°¾ì•˜ë‹¤!
â†’ ê³ ê°ì—ê²Œ ë°°í¬ ì „ì— ë°œê²¬í•œ ê²ƒì´ ë‹¤í–‰

í…ŒìŠ¤íŠ¸ê°€ í•­ìƒ ì„±ê³µí•œë‹¤ = í…ŒìŠ¤íŠ¸ë¥¼ ì˜ëª» ì‘ì„±í–ˆê±°ë‚˜, ë²„ê·¸ê°€ ì—†ê±°ë‚˜
```

---

#### 4. ì œì•ˆì„œ/PTì—ì„œ ì„¤ëª…í•˜ëŠ” ë²•

**í…ŒìŠ¤íŠ¸ ì „ëµ ì„¤ëª… ì˜ˆì‹œ:**

> "SimpleBlogëŠ” **3ë‹¨ê³„ í…ŒìŠ¤íŠ¸ ì „ëµ**ì„ ì ìš©í•©ë‹ˆë‹¤.
>
> **1ë‹¨ê³„: ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ (Unit Test)**
> - JUnit 5 + Mockito
> - Service, Repository ê³„ì¸µ í…ŒìŠ¤íŠ¸
> - CI/CD íŒŒì´í”„ë¼ì¸ì—ì„œ ìë™ ì‹¤í–‰
>
> **2ë‹¨ê³„: í†µí•© í…ŒìŠ¤íŠ¸ (Integration Test)**
> - MockMvc + Testcontainers
> - Controller â†’ Service â†’ Repository ì „ì²´ íë¦„ í…ŒìŠ¤íŠ¸
> - ì‹¤ì œ MySQL ì»¨í…Œì´ë„ˆ ì‚¬ìš©
>
> **3ë‹¨ê³„: ì¸ìˆ˜ í…ŒìŠ¤íŠ¸ (Acceptance Test)**
> - Postman Collection
> - ì‹¤ì œ ì‹œë‚˜ë¦¬ì˜¤ ê¸°ë°˜ í…ŒìŠ¤íŠ¸
> - ê³ ê°ê³¼ í•¨ê»˜ ì§„í–‰
>
> **í’ˆì§ˆ ì§€í‘œ:**
> - í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€: 80% ì´ìƒ
> - í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ì‹œê°„: 5ë¶„ ì´ë‚´
> - CI/CD ë¹Œë“œ ì„±ê³µë¥ : 95% ì´ìƒ"

---

#### 5. ê³µë¬´ì›ì´ ìì£¼ í•˜ëŠ” ì§ˆë¬¸

**Q1: "í…ŒìŠ¤íŠ¸ëŠ” ì™œ í•˜ë‚˜ìš”? ê°œë°œìê°€ í™•ì¸í•˜ë©´ ì•ˆ ë˜ë‚˜ìš”?"**
A: "ì‚¬ëŒì€ ì‹¤ìˆ˜í•©ë‹ˆë‹¤.

   ê°œë°œì Aê°€ ê²Œì‹œê¸€ ìƒì„± ê¸°ëŠ¥ì„ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.
   â†’ ë‚˜ì¤‘ì— ê°œë°œì Bê°€ ë‹¤ë¥¸ ê¸°ëŠ¥ì„ ìˆ˜ì •í–ˆëŠ”ë°,
   â†’ ê²Œì‹œê¸€ ìƒì„± ê¸°ëŠ¥ì´ ë§ê°€ì¡ŒìŠµë‹ˆë‹¤!

   **ìë™í™” í…ŒìŠ¤íŠ¸ê°€ ìˆìœ¼ë©´:**
   â†’ ì½”ë“œ ë³€ê²½ ì‹œë§ˆë‹¤ 200ê°œ í…ŒìŠ¤íŠ¸ ìë™ ì‹¤í–‰
   â†’ ë§ê°€ì§„ ê¸°ëŠ¥ ì¦‰ì‹œ ë°œê²¬
   â†’ ë°°í¬ ì „ì— ìˆ˜ì •"

**Q2: "í…ŒìŠ¤íŠ¸ ì‘ì„±í•˜ë©´ ê°œë°œ ê¸°ê°„ì´ ëŠ˜ì–´ë‚˜ì§€ ì•Šë‚˜ìš”?"**
A: "ì´ˆê¸°ì—ëŠ” 20% ë” ê±¸ë¦½ë‹ˆë‹¤.
   í•˜ì§€ë§Œ ì¥ê¸°ì ìœ¼ë¡œëŠ” ì‹œê°„ì„ ì ˆì•½í•©ë‹ˆë‹¤.

   **í…ŒìŠ¤íŠ¸ ì—†ëŠ” í”„ë¡œì íŠ¸:**
   - ê°œë°œ: 10ì¼
   - ë²„ê·¸ ìˆ˜ì •: 5ì¼
   - ì¬ë°°í¬: 2ì¼
   **ì´: 17ì¼**

   **í…ŒìŠ¤íŠ¸ ìˆëŠ” í”„ë¡œì íŠ¸:**
   - ê°œë°œ + í…ŒìŠ¤íŠ¸: 12ì¼
   - ë²„ê·¸ ìˆ˜ì •: 1ì¼
   **ì´: 13ì¼**

   â†’ í…ŒìŠ¤íŠ¸ê°€ ìˆìœ¼ë©´ **30% ë¹ ë¦„!**"

**Q3: "í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ 100%ëŠ” ì•ˆ ë˜ë‚˜ìš”?"**
A: "100%ëŠ” ë¹„í˜„ì‹¤ì ì´ê³  ë¹„íš¨ìœ¨ì ì…ë‹ˆë‹¤.

   í…ŒìŠ¤íŠ¸í•  í•„ìš” ì—†ëŠ” ì½”ë“œ:
   - Getter/Setter (Lombokì´ ìë™ ìƒì„±)
   - ë‹¨ìˆœ ìƒìˆ˜ ì •ì˜
   - ì„¤ì • íŒŒì¼

   80% ì •ë„ê°€ **ë¹„ìš© ëŒ€ë¹„ íš¨ê³¼**ê°€ ê°€ì¥ ì¢‹ìŠµë‹ˆë‹¤.
   100%ë¥¼ ìœ„í•´ 20%ë¥¼ ë” íˆ¬ìí•˜ëŠ” ê²ƒì€ ë‚­ë¹„ì…ë‹ˆë‹¤."

**Q4: "í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨í•˜ë©´ ë°°í¬ ëª» í•˜ë‚˜ìš”?"**
A: "ë„¤, ë§ìŠµë‹ˆë‹¤.

   CI/CD íŒŒì´í”„ë¼ì¸ ì„¤ì •:
   ```
   ì½”ë“œ ì»¤ë°‹ â†’ í…ŒìŠ¤íŠ¸ ìë™ ì‹¤í–‰ â†’ í†µê³¼ ì‹œì—ë§Œ ë°°í¬
   ```

   **ì¥ì :**
   - ë§ê°€ì§„ ì½”ë“œê°€ ìš´ì˜ í™˜ê²½ì— ì ˆëŒ€ ë°°í¬ ì•ˆ ë¨
   - í’ˆì§ˆ ë³´ì¥

   **ë‹¨ì :**
   - ê¸´ê¸‰ ë°°í¬ ì‹œ ì‹œê°„ ê±¸ë¦¼
   â†’ í•«í”½ìŠ¤(HotFix) ì ˆì°¨ë¡œ í•´ê²°"

---

## 1. í…ŒìŠ¤íŠ¸ í™˜ê²½ ì„¤ì •

### 1.1 build.gradle ì˜ì¡´ì„±

```groovy
dependencies {
    // ê¸°ì¡´ dependencies...

    // Test
    testImplementation 'org.springframework.boot:spring-boot-starter-test'

    // Testcontainers (ì‹¤ì œ MySQL ì»¨í…Œì´ë„ˆë¡œ í…ŒìŠ¤íŠ¸)
    testImplementation 'org.testcontainers:testcontainers:1.19.0'
    testImplementation 'org.testcontainers:mysql:1.19.0'
    testImplementation 'org.testcontainers:junit-jupiter:1.19.0'
}
```

### 1.2 í…ŒìŠ¤íŠ¸ ì„¤ì • íŒŒì¼

**src/test/resources/application.yml:**
```yaml
spring:
  datasource:
    # Testcontainersê°€ ìë™ìœ¼ë¡œ ì„¤ì •
    url: jdbc:tc:mysql:8.0:///testdb
    driver-class-name: org.testcontainers.jdbc.ContainerDatabaseDriver

  jpa:
    hibernate:
      ddl-auto: create-drop  # í…ŒìŠ¤íŠ¸ ì‹œì‘ ì‹œ ìƒì„±, ì¢…ë£Œ ì‹œ ì‚­ì œ
    show-sql: true

logging:
  level:
    com.simpleblog: DEBUG
    org.testcontainers: INFO
```

---

## 2. ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ (Unit Test)

### 2.1 Repository í…ŒìŠ¤íŠ¸

**PostRepositoryTest.java:**
```java
package com.simpleblog.repository;

import com.simpleblog.entity.Post;
import org.junit.jupiter.api.DisplayName;
import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest;

import java.util.List;
import java.util.Optional;

import static org.assertj.core.api.Assertions.*;

@DataJpaTest  // JPA ê´€ë ¨ Beanë§Œ ë¡œë“œ (ë¹ ë¥¸ í…ŒìŠ¤íŠ¸)
class PostRepositoryTest {

    @Autowired
    private PostRepository postRepository;

    @Test
    @DisplayName("ê²Œì‹œê¸€ ì €ì¥ ì„±ê³µ")
    void save_success() {
        // given
        Post post = Post.builder()
                .title("í…ŒìŠ¤íŠ¸ ì œëª©")
                .content("í…ŒìŠ¤íŠ¸ ë‚´ìš©")
                .author("í…ŒìŠ¤í„°")
                .build();

        // when
        Post savedPost = postRepository.save(post);

        // then
        assertThat(savedPost.getId()).isNotNull();
        assertThat(savedPost.getTitle()).isEqualTo("í…ŒìŠ¤íŠ¸ ì œëª©");
    }

    @Test
    @DisplayName("ê²Œì‹œê¸€ IDë¡œ ì¡°íšŒ ì„±ê³µ")
    void findById_success() {
        // given
        Post post = Post.builder()
                .title("í…ŒìŠ¤íŠ¸ ì œëª©")
                .content("í…ŒìŠ¤íŠ¸ ë‚´ìš©")
                .author("í…ŒìŠ¤í„°")
                .build();
        Post savedPost = postRepository.save(post);

        // when
        Optional<Post> foundPost = postRepository.findById(savedPost.getId());

        // then
        assertThat(foundPost).isPresent();
        assertThat(foundPost.get().getTitle()).isEqualTo("í…ŒìŠ¤íŠ¸ ì œëª©");
    }

    @Test
    @DisplayName("ê²Œì‹œê¸€ ìµœì‹ ìˆœ ì¡°íšŒ ì„±ê³µ")
    void findAllByOrderByCreatedAtDesc_success() {
        // given
        postRepository.save(Post.builder()
                .title("ì²« ë²ˆì§¸")
                .content("ë‚´ìš©")
                .author("í…ŒìŠ¤í„°")
                .build());

        postRepository.save(Post.builder()
                .title("ë‘ ë²ˆì§¸")
                .content("ë‚´ìš©")
                .author("í…ŒìŠ¤í„°")
                .build());

        // when
        List<Post> posts = postRepository.findAllByOrderByCreatedAtDesc();

        // then
        assertThat(posts).hasSize(2);
        assertThat(posts.get(0).getTitle()).isEqualTo("ë‘ ë²ˆì§¸");  // ìµœì‹ ìˆœ
    }

    @Test
    @DisplayName("ê²Œì‹œê¸€ ì‚­ì œ ì„±ê³µ")
    void delete_success() {
        // given
        Post post = postRepository.save(Post.builder()
                .title("ì‚­ì œí•  ê²Œì‹œê¸€")
                .content("ë‚´ìš©")
                .author("í…ŒìŠ¤í„°")
                .build());

        // when
        postRepository.deleteById(post.getId());

        // then
        Optional<Post> deletedPost = postRepository.findById(post.getId());
        assertThat(deletedPost).isEmpty();
    }
}
```

---

### 2.2 Service í…ŒìŠ¤íŠ¸

**PostServiceTest.java:**
```java
package com.simpleblog.service;

import com.simpleblog.dto.PostCreateRequest;
import com.simpleblog.dto.PostListResponse;
import com.simpleblog.dto.PostResponse;
import com.simpleblog.dto.PostUpdateRequest;
import com.simpleblog.entity.Post;
import com.simpleblog.repository.PostRepository;
import org.junit.jupiter.api.DisplayName;
import org.junit.jupiter.api.Test;
import org.junit.jupiter.api.extension.ExtendWith;
import org.mockito.InjectMocks;
import org.mockito.Mock;
import org.mockito.junit.jupiter.MockitoExtension;

import java.util.List;
import java.util.Optional;

import static org.assertj.core.api.Assertions.*;
import static org.mockito.ArgumentMatchers.any;
import static org.mockito.BDDMockito.*;

@ExtendWith(MockitoExtension.class)
class PostServiceTest {

    @Mock
    private PostRepository postRepository;

    @InjectMocks
    private PostService postService;

    @Test
    @DisplayName("ê²Œì‹œê¸€ ìƒì„± ì„±ê³µ")
    void createPost_success() {
        // given
        PostCreateRequest request = new PostCreateRequest();
        // requestì— ê°’ ì„¤ì • (Reflection ë˜ëŠ” ìƒì„±ì ì¶”ê°€ í•„ìš”)

        Post savedPost = Post.builder()
                .title("í…ŒìŠ¤íŠ¸ ì œëª©")
                .content("í…ŒìŠ¤íŠ¸ ë‚´ìš©")
                .author("í…ŒìŠ¤í„°")
                .build();

        given(postRepository.save(any(Post.class))).willReturn(savedPost);

        // when
        PostResponse response = postService.createPost(request);

        // then
        assertThat(response.getTitle()).isEqualTo("í…ŒìŠ¤íŠ¸ ì œëª©");
        verify(postRepository, times(1)).save(any(Post.class));
    }

    @Test
    @DisplayName("ê²Œì‹œê¸€ ì¡°íšŒ ì„±ê³µ")
    void getPost_success() {
        // given
        Long postId = 1L;
        Post post = Post.builder()
                .title("í…ŒìŠ¤íŠ¸ ì œëª©")
                .content("í…ŒìŠ¤íŠ¸ ë‚´ìš©")
                .author("í…ŒìŠ¤í„°")
                .build();

        given(postRepository.findById(postId)).willReturn(Optional.of(post));

        // when
        PostResponse response = postService.getPost(postId);

        // then
        assertThat(response.getTitle()).isEqualTo("í…ŒìŠ¤íŠ¸ ì œëª©");
    }

    @Test
    @DisplayName("ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê²Œì‹œê¸€ ì¡°íšŒ ì‹œ ì˜ˆì™¸ ë°œìƒ")
    void getPost_notFound_throwException() {
        // given
        Long postId = 999L;
        given(postRepository.findById(postId)).willReturn(Optional.empty());

        // when & then
        assertThatThrownBy(() -> postService.getPost(postId))
                .isInstanceOf(IllegalArgumentException.class)
                .hasMessageContaining("ê²Œì‹œê¸€ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤");
    }
}
```

---

## 3. í†µí•© í…ŒìŠ¤íŠ¸ (Integration Test)

### 3.1 Controller í…ŒìŠ¤íŠ¸ (MockMvc)

**PostControllerTest.java:**
```java
package com.simpleblog.controller;

import com.fasterxml.jackson.databind.ObjectMapper;
import com.simpleblog.dto.PostCreateRequest;
import com.simpleblog.dto.PostUpdateRequest;
import org.junit.jupiter.api.DisplayName;
import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.http.MediaType;
import org.springframework.test.web.servlet.MockMvc;
import org.springframework.transaction.annotation.Transactional;

import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.*;
import static org.springframework.test.web.servlet.result.MockMvcResultHandlers.print;
import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.*;

@SpringBootTest
@AutoConfigureMockMvc
@Transactional  // í…ŒìŠ¤íŠ¸ í›„ ìë™ ë¡¤ë°±
class PostControllerTest {

    @Autowired
    private MockMvc mockMvc;

    @Autowired
    private ObjectMapper objectMapper;

    @Test
    @DisplayName("ê²Œì‹œê¸€ ëª©ë¡ ì¡°íšŒ ì„±ê³µ")
    void getAllPosts_success() throws Exception {
        mockMvc.perform(get("/api/posts"))
                .andDo(print())
                .andExpect(status().isOk())
                .andExpect(jsonPath("$").isArray());
    }

    @Test
    @DisplayName("ê²Œì‹œê¸€ ìƒì„± ì„±ê³µ")
    void createPost_success() throws Exception {
        // given
        PostCreateRequest request = new PostCreateRequest();
        // request ì„¤ì • í•„ìš”

        String requestJson = objectMapper.writeValueAsString(request);

        // when & then
        mockMvc.perform(post("/api/posts")
                        .contentType(MediaType.APPLICATION_JSON)
                        .content(requestJson))
                .andDo(print())
                .andExpect(status().isCreated())
                .andExpect(jsonPath("$.title").value("í…ŒìŠ¤íŠ¸ ì œëª©"));
    }

    @Test
    @DisplayName("ê²Œì‹œê¸€ ìƒì„± ì‹œ ìœ íš¨ì„± ê²€ì¦ ì‹¤íŒ¨ (ì œëª© ì—†ìŒ)")
    void createPost_validation_fail_noTitle() throws Exception {
        // given
        PostCreateRequest request = new PostCreateRequest();
        // titleì„ ì„¤ì •í•˜ì§€ ì•ŠìŒ

        String requestJson = objectMapper.writeValueAsString(request);

        // when & then
        mockMvc.perform(post("/api/posts")
                        .contentType(MediaType.APPLICATION_JSON)
                        .content(requestJson))
                .andDo(print())
                .andExpect(status().isBadRequest())
                .andExpect(jsonPath("$.error").value("VALIDATION_ERROR"));
    }

    @Test
    @DisplayName("ê²Œì‹œê¸€ ì‚­ì œ ì„±ê³µ")
    void deletePost_success() throws Exception {
        // given: ë¨¼ì € ê²Œì‹œê¸€ ìƒì„±
        // (ì‹¤ì œë¡œëŠ” í…ŒìŠ¤íŠ¸ ë°ì´í„° ì„¸íŒ… í•„ìš”)

        // when & then
        mockMvc.perform(delete("/api/posts/1"))
                .andDo(print())
                .andExpect(status().isNoContent());
    }

    @Test
    @DisplayName("ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê²Œì‹œê¸€ ì‚­ì œ ì‹œ 404")
    void deletePost_notFound() throws Exception {
        mockMvc.perform(delete("/api/posts/999"))
                .andDo(print())
                .andExpect(status().isNotFound())
                .andExpect(jsonPath("$.error").value("RESOURCE_NOT_FOUND"));
    }
}
```

---

## 4. í…ŒìŠ¤íŠ¸ ì‹¤í–‰

### 4.1 IDEì—ì„œ ì‹¤í–‰

**IntelliJ IDEA:**
```
1. í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ì—ì„œ ìš°í´ë¦­
2. "Run 'PostServiceTest'" ì„ íƒ
3. ê²°ê³¼ í™•ì¸
```

### 4.2 Gradle ëª…ë ¹ì–´ë¡œ ì‹¤í–‰

```bash
# ì „ì²´ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
./gradlew test

# íŠ¹ì • í…ŒìŠ¤íŠ¸ë§Œ ì‹¤í–‰
./gradlew test --tests PostServiceTest

# í…ŒìŠ¤íŠ¸ ê²°ê³¼ ë¦¬í¬íŠ¸ ìƒì„±
./gradlew test
# build/reports/tests/test/index.html ì—´ê¸°
```

---

## 5. í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ ì¸¡ì •

### 5.1 JaCoCo í”ŒëŸ¬ê·¸ì¸ ì¶”ê°€

**build.gradle:**
```groovy
plugins {
    id 'jacoco'  // ì¶”ê°€
}

jacoco {
    toolVersion = '0.8.11'
}

test {
    finalizedBy jacocoTestReport  // í…ŒìŠ¤íŠ¸ í›„ ë¦¬í¬íŠ¸ ìë™ ìƒì„±
}

jacocoTestReport {
    dependsOn test
    reports {
        xml.required = true
        html.required = true
    }
}

jacocoTestCoverageVerification {
    violationRules {
        rule {
            limit {
                minimum = 0.80  // 80% ì´ìƒ
            }
        }
    }
}
```

### 5.2 ì»¤ë²„ë¦¬ì§€ í™•ì¸

```bash
# í…ŒìŠ¤íŠ¸ + ì»¤ë²„ë¦¬ì§€ ë¦¬í¬íŠ¸ ìƒì„±
./gradlew test jacocoTestReport

# ë¦¬í¬íŠ¸ ìœ„ì¹˜
# build/reports/jacoco/test/html/index.html
```

---

## 6. í…ŒìŠ¤íŠ¸ ì²´í¬ë¦¬ìŠ¤íŠ¸

### ê°œë°œ ì™„ë£Œ í›„ í™•ì¸

```
[ ] ì „ì²´ í…ŒìŠ¤íŠ¸ í†µê³¼ (./gradlew test)
[ ] í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ 80% ì´ìƒ
[ ] ëª¨ë“  API ì—”ë“œí¬ì¸íŠ¸ í…ŒìŠ¤íŠ¸ ì‘ì„±
[ ] ìœ íš¨ì„± ê²€ì¦ ì‹¤íŒ¨ ì¼€ì´ìŠ¤ í…ŒìŠ¤íŠ¸
[ ] 404 ì—ëŸ¬ ì¼€ì´ìŠ¤ í…ŒìŠ¤íŠ¸
[ ] ì˜ˆì™¸ ì²˜ë¦¬ í…ŒìŠ¤íŠ¸

[ ] Postman Collection ì‘ì„± (ìˆ˜ë™ í…ŒìŠ¤íŠ¸ìš©)
[ ] README.mdì— í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ë°©ë²• ì¶”ê°€
[ ] CI/CD íŒŒì´í”„ë¼ì¸ì— í…ŒìŠ¤íŠ¸ í†µí•©
```

---

## 7. ë³€ê²½ ì´ë ¥

| ë²„ì „ | ë‚ ì§œ | ì‘ì„±ì | ë³€ê²½ ë‚´ìš© |
|------|------|--------|----------|
| 1.0 | 2025-10-17 | ê°œë°œíŒ€ | ìµœì´ˆ ì‘ì„± |

---

**í”„ë¡œì íŠ¸ ì™„ë£Œ!** ğŸ‰

ë‹¤ìŒ ë‹¨ê³„: ë°°í¬ ë° ìš´ì˜ (2ì°¨ ê°œë°œ) ğŸš€
